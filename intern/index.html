<!DOCTYPE HTML>
<html>
<head>
  <title>Intern--Wei Liu</title>
  <link rel="stylesheet" type="text/css" href="../css/main.css">
  <link rel="stylesheet" type="text/css" href="../css/intern.css">
  <!-- <link rel="stylesheet" type="text/css" media="screen and (min-width: 980px)" href="./css/intern_980.css"> -->
  <script type="text/javascript" src="../js/jquery.js"></script>
  <script type="text/javascript" src="../js/ready.js"></script>
  <script type="text/javascript" src="../js/template.js"></script>
</head>
<body>
  <!-- loading -->
  <div class="loading-wrapper" style="display:none;">
    <div class="loading">
      <span>
        <img class="load-pic" src="../src/load_pic.png"/>
        <h1 class="load-title">My zealous hear is<br> <span class="firing">FIRING...</span></h1>
      </span>
    </div>
  </div>
  
  <!--Navigation-->
  <div class="nav-block">
    <ul class="top-nav">
      <li class="nav-index" >
        <a href="../index.html">
          <span><img src="../src/load_pic.png"></span>
          <span id="navIndexTitle">Wei Liu's <br>Dream Home</span>
        </a>
      </li>
      <li class="nav-item"><a id="top-nav2" href="../intern/intern.html">Intern</a></li>
      <li class="nav-item"><a id="top-nav3">Projects</a></li>
      <li class="nav-item"><a id="top-nav4">Activities</a></li>
      <li class="nav-item"><a id="top-nav5">Essays</a></li>
      <li class="nav-item"><a id="top-nav6">About</a></li>
    </ul>
    <div class="top-mobile-menu" id="mobileMenu">
      <p>MENU</p>
    </div>
  </div>

  <div class="mobile-menu">
    <ul class="mobile-nav">
      <li class="mobile-nav-item"><a href="./intern.html">Intern</a></li>
      <li class="mobile-nav-item"><a>Projects</a></li>
      <li class="mobile-nav-item"><a>Activities</a></li>
      <li class="mobile-nav-item"><a>Essays</a></li>
      <li class="mobile-nav-item"><a>About</a></li>
    </ul>
  </div>

  <!--main block-->
  <div class='main'>
    <div class='banner'>
      <div class="content">
        <div class="simple-info">
          <a class="dolphin-logo img-wrapper" href="http://www.dolphin.com" target="_blank" alert="Dolphin Official Site">
            <img src="../src/intern_index0_content.png">
          </a>
          <div class="info-block">
            <img class="read-more" src="../src/readMore.png"/>
          </div>
        </div>
        <div class="clear-float"></div>
        
        <div class="more-info">
          <img class="read-less" src="../src/readLess.png"/>
        </div>
      </div>
      <div class="banner-footer">
        <div class="b-f-wave1"></div>
        <div class="b-f-wave2"></div>
      </div>
    </div>

    <div class='works'></div>

    <div class='others clearfix'>
      <div class='other-title'><p>Add More...</p></div>
    </div>

    <div class='about'>

    </div>
  </div>

  <footer class="foot">
    <div class="left-info">
      <p>
        Self-made by Wei Liu.s with enthusiasm & expection.
      </p>
      <p>
        Though compatible with old IE browsers, I recommend a better view in browsers support CCS3 & HTML5.
      </p>
    </div>
    <div class="right-info">
      <p>
        Contact me: <a href="mailto:harrybaa@gmail.com">harrybaa@gmail.com</a>
      </p>
    </div>
  </footer>

  <script id="temp_info" type="text/html">
    <p class="info-block-p">
      {{each data as value i}}
        {{value}} <br>
      {{/each}}
    </p>
  </script>

  <script id="temp_work_i" type="text/html">
  <div class='work-item'>
    <div class='links left'>
      <div class='work-name shadow'>{{work_name}}</div>
      <div class='preview img-ver-wrapper'>
        <img class='shadow' src="{{icon_url}}">
      </div>
      <a class='site-link' target='_blank' href="{{site_link_url}}">{{site_link_name}}</a>
      <div class='basic-info bold'>
        <p class='b-i-item'><span class='item-name'>Date: </span>{{Date}}</p>
        <p class='b-i-item'><span class='item-name'>Platform: </span>{{Plantform}}</p>
        <p class='b-i-item'><span class='item-name'>Languages: </span>{{Languages}}</p>
      </div>
    </div>

    <div class='contents left'>
      <div class='introduction'>
        <p class='intro-item'>{{introduction}}</p>
      </div>
      <div class='features-wrapper'>
        {{each features}}
        <div class='feature'>
          <div class='feature-icon img-wrapper shadow'>
            <img src="{{$value.icon_url}}">
          </div>
          <p class='item-name bold'>{{$value.feature_name}}</p>
          <p class='feature-content'>{{$value.feature_content}}</p>
        </div>
        {{/each}}
        <div class='clear'></div>
      </div>
      <!--role-->
      <div class='role'>
        <p class='role-title'>Role In Team</p>
        {{each roles}}
        <p class='role-item'><span class='item-name bold'>{{$value.name}}:</span> {{$value.content}}</p>
        {{/each}}
      </div>
    </div>
    <div class='clear'></div>
  </div>
  </script>

  <script id='temp_others' type="text/html">
    {{each data}}
    <div class='other-item'>
      <p class='o-i-title'>{{$value.name}}</p>
      <div class='o-i-preview img-wrapper'>
        <img src="{{$value.pic}}" alt='preview picture'>
      </div>
      <a class='o-i-link' href="{{$value.link_url}}">{{$value.link_name}}</a>
    </div>
    {{/each}}
  </script>

<script type="text/javascript">
$(document).ready(function(){
  init();
  registEven();
});

function init(){
  var data,
      url = './data/intern.json';
  loadData(url);
}

function loadData(url){
  $.ajax({
    url: url,
    dataType: 'json',
    success: function(res){
      console.log('New Json data loaded.');
      renderData(res);
    },
    error: function(){
      console.log('Faild to load the data.');
    }
  });
}

function renderData(res){
  var info = res.info || [];
  renderInfo(info);
  if(res.works) renderWorks(res.works);
  if(res.others) renderOthers(res.others);
}
function renderInfo(data){
  var html = template('temp_info', data);
  $('.info-block').html(html + $('.info-block').html());
  $('.more-info').html(html + $('.more-info').html());
}
function renderWorks(data){
  var html = '',
      len = data.length;
  for(var i = 0;i < len;i++){
    html += template('temp_work_i', data[i]);
  }
  $('.works').html(html);
}
function renderOthers(data){
  var html = '';
  html = template('temp_others', data);
  $('.others').html($('.others').html() + html);
}

function registEven () {
  $(".banner .read-more").click(function(){
    $(".simple-info").animate({opacity: 0}, 500, function(){
      $(".simple-info").css("display", "none");
      $(".more-info").css("display", "block").animate({opacity: 1}, 500);
    });
  });
  $(".banner .read-less").click(function(){
    $(".more-info").animate({opacity: 0}, 500, function(){
      $(".more-info").css("display", "none")
      $(".simple-info").css("display", "block").animate({opacity: 1}, 500);
    });
  });
}
</script>
</body>
</html>